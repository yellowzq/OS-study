sakura@u2404:~/OSTools/bochs/c$ make all
if [ ! -d ./build ];then mkdir ./build;fi       #若没有这个目录，则创建
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes kernel/main.c -o build/main.o 
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes kernel/init.c -o build/init.o
In file included from kernel/init.c:8:
device/keyboard.h:4:13: warning: ‘intr_keyboard_handler’ declared ‘static’ but never defined [-Wunused-function]
    4 | static void intr_keyboard_handler(void);
      |             ^~~~~~~~~~~~~~~~~~~~~
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes kernel/interrupt.c -o build/interrupt.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes device/timer.c -o build/timer.o
nasm -f elf kernel/kernel.S -o build/kernel.o
nasm -f elf lib/kernel/print.S -o build/print.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes kernel/debug.c -o build/debug.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes lib/string.c -o build/string.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes lib/kernel/bitmap.c -o build/bitmap.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes kernel/memory.c -o build/memory.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes thread/thread.c -o build/thread.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes lib/kernel/list.c -o build/list.o
nasm -f elf thread/switch.S -o build/switch.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes device/console.c -o build/console.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes thread/sync.c -o build/sync.o
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes device/keyboard.c -o build/keyboard.o
device/keyboard.c:46:13: warning: ‘caps_lock_last’ defined but not used [-Wunused-variable]
   46 | static bool caps_lock_last;     // 记录上一次是否开启caps lock
      |             ^~~~~~~~~~~~~~
device/keyboard.c:45:13: warning: ‘shift_down_last’ defined but not used [-Wunused-variable]
   45 | static bool shift_down_last;    // 记录上一次是否按下shift键
      |             ^~~~~~~~~~~~~~~
gcc -Wall -I lib/ -I lib/kernel/ -I lib/user/ -I kernel/ -I device/ -I thread/ -c -fno-builtin -m32 -fno-stack-protector -W -Wstrict-prototypes -Wmissing-prototypes device/ioqueue.c -o build/ioqueue.o
ld -m elf_i386  -Ttext 0xc0001500 -e main -Map ./build/kernel.map build/main.o build/init.o build/interrupt.o build/timer.o build/kernel.o build/print.o build/debug.o build/string.o build/bitmap.o build/memory.o build/thread.o build/list.o build/switch.o build/console.o build/sync.o build/keyboard.o build/ioqueue.o -o build/kernel.bin 
ld: warning: build/switch.o: missing .note.GNU-stack section implies executable stack
ld: NOTE: This behaviour is deprecated and will be removed in a future version of the linker
dd if=./build/kernel.bin \
        of=/home/sakura/OSTools/bochs/sakura.img \
        bs=512 count=200 seek=9 conv=notrunc
62+1 records in
62+1 records out
32172 bytes (32 kB, 31 KiB) copied, 0.0035367 s, 9.1 MB/s
sakura@u2404:~/OSTools/bochs/c$ 